---
title: "[webhacking.kr] 48ë²ˆ ë¬¸ì œ í’€ì´[Command Injection]"
categories:
  - webhacking
tags:
  - webhacking.kr
  - wargame
  - Command injection
toc: true
toc_sticky: true
toc_label: "48ë²ˆ ë¬¸ì œ í’€ì´"
toc_icon: "bookmark"
author_profile: true
header:
  teaser: /assets/images/webhacking.jpg
---

ğŸ’¡ Webhacking.kr challenge(old) 48ë²ˆ ë¬¸ì œì— ëŒ€í•œ í’€ì´ì…ë‹ˆë‹¤.
{: .notice--warning}

# ë¬¸ì œ
  ![image](https://user-images.githubusercontent.com/33647663/152781963-edff2698-d63b-4698-acd9-d605352a1714.png)

# ë¬¸ì œ í’€ì´
  
  ë¬¸ì œì— ì ‘ì†í•˜ë©´ ê·¸ë¦¼ì²˜ëŸ¼ ë©”ëª¨ì™€ íŒŒì¼ì„ ì—…ë¡œë“œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.
  
  ì²˜ìŒì—” ë¬¸ì œì˜ ì˜ë„ íŒŒì•…ì´ ì•ˆë˜ì„œ, ë©”ëª¨ì— ê¸´ ë°ì´í„° ì…ë ¥, íŒŒì¼ ì—…ë¡œë“œ(phpíŒŒì¼), sql injectionë“± ì—¬ëŸ¬ê°€ì§€ ë°©ë²•ì„ ì‹œë„í•´ ë´¤ëŠ”ë° ëª¨ë‘ ì•ˆë˜ì—ˆìŠµë‹ˆë‹¤.

  ì´ë²ˆ ë¬¸ì œëŠ” ì•„ë¬´ë¦¬ ìƒê°í•´ë„ ì˜ ëª¨ë¥´ê² ì–´ì„œ ë‹¤ë¥¸ ë¶„ë“¤ì˜ writeupì„ ë³´ê³  íŒíŠ¸ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤.

  ìš°ì„  ë¬¸ì œëŠ” Command Injection ë¬¸ì œì˜€ìŠµë‹ˆë‹¤. ì•„ë§ˆ ì´ë²ˆ ë¬¸ì œì—ì„œëŠ” íŒŒì¼ì„ ì‚­ì œí• ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ë¡œì§ìœ¼ë¡œ íŒŒì¼ì„ ì§€ì›Œì„œ command Injection ì·¨ì•½ì ì´ ë°œìƒí•˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.

  ```php
  #$files ì—ëŠ” íŒŒì¼ëª…ì´ ë“¤ì–´ê°
  $command = "rm -rf ".$files;
  system($command);
  ```

  ë”°ë¼ì„œ ìœ„ì²˜ëŸ¼ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ íŒŒì¼ëª…ì— ```test.txt;ls```ë¥¼ ì…ë ¥í•˜ë©´ ```rm -rf test.txt;ls```ê°€ shellì—ì„œ ì‹¤í–‰ë˜ì–´ command injectionì´ ë°œìƒí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
  
  ì¶”ê°€ë¡œ phpì—ì„œëŠ” ì´ëŸ¬í•œ command injectionì´ ë°œìƒí•˜ì§€ ì•Šê²Œ phpì„œë²„ì—ì„œ íŒŒì¼ì„ ì‚­ì œí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ì¸ unlink() í•¨ìˆ˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì•„ë˜ì˜ ì½”ë“œëŠ” phpì—ì„œ unlink í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ì„ ì‚­ì œí•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤.

  ```php
  unlink($files);
  ```

  ë³¸ ë¬¸ì œì—ì„œëŠ” íŒŒì¼ ëª…ì„ í†µí•´ì„œ delete ì‹œì— command injectionì´ ê°€ëŠ¥í•˜ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ íŒŒì¼ëª…ì„ ë§Œë“¤ì–´ ì—…ë¡œë“œ í›„ ì‚­ì œë¥¼ í•´ë´…ë‹ˆë‹¤.

  ```
  1;ls
  ```

  ![image](https://user-images.githubusercontent.com/33647663/152784577-595f6008-e6f2-4985-93dd-9b3cc66d5d14.png)

  ![image](https://user-images.githubusercontent.com/33647663/152784764-a0824829-bbd8-41c0-be47-3ce822148789.png)

  ![image](https://user-images.githubusercontent.com/33647663/152784653-610afad4-9356-46ac-8272-3b3fbb572ebc.png)

  
