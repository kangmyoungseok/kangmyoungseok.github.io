---
title: "[webhacking.kr] 53ë²ˆ ë¬¸ì œ í’€ì´[Procedure analyse]"
categories:
  - webhacking
tags:
  - webhacking.kr
  - wargame
toc: true
toc_sticky: true
toc_label: "53ë²ˆ ë¬¸ì œ í’€ì´"
toc_icon: "bookmark"
author_profile: true
---

ğŸ’¡ Webhacking.kr challenge(old) 53ë²ˆ ë¬¸ì œì— ëŒ€í•œ í’€ì´ì…ë‹ˆë‹¤.
{: .notice--warning}

# ë¬¸ì œ
  ```php
<?php
  $db = dbconnect();
  include "./tablename.php";
  if($_GET['answer'] == $hidden_table) solve(53);
  if(preg_match("/select|by/i",$_GET['val'])) exit("no hack");
  $result = mysqli_fetch_array(mysqli_query($db,"select a from $hidden_table where a={$_GET['val']}"));
  echo($result[0]);
?>
  ```

  $hidden_tableì„ ì•Œì•„ë‚´ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.


# procedure analyse()
  ì´ë²ˆ ë¬¸ì œëŠ” procedure analyse() í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤. ì €ëŠ” ì‚¬ì „ì— í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì•Œê³  ìˆì—ˆê¸° ë–„ë¬¸ì— ë°”ë¡œ ì´ìš©í•´ì„œ í’€ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ í•´ë‹¹ í•¨ìˆ˜ëŠ” mysql 8.0ë²„ì „ì´ ë˜ë©´ì„œ ì‚¬ë¼ì¡Œê¸° ë•Œë¬¸ì— ì œ ë¡œì»¬ dbì—ì„œëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ëª»í•´ë´¤ìŠµë‹ˆë‹¤.

  ![image](https://user-images.githubusercontent.com/33647663/153139568-d0bb0ab1-cb07-4ca9-98d5-81742177ab98.png)

  mysql 8.0ì´ 2018ë…„ì— ë‚˜ì™”ìœ¼ë‹ˆ ì‚¬ë¼ì§„ì§€ëŠ” ê½¤ ë˜ì—ˆëŠ”ë° ë¬¸ì œê°€ ì˜¤ë˜ë˜ì—ˆë‹¤ ë³´ë‹ˆ ìˆëŠ” ë¬¸ì œ ê°™ìŠµë‹ˆë‹¤.

  mysqlì˜ ë²„ì „ì— ëŒ€í•œ ì •ë³´ëŠ” [ë§í¬](https://www.codetd.com/ko/article/7307144)ì—ì„œ ì½ì–´ë³´ì‹œë©´ ë©ë‹ˆë‹¤.

  ë°”ë¡œ ë¬¸ì œë¥¼ í’€ì–´ë³´ê² ìŠµë‹ˆë‹¤.
  ```
  ?val=1 procedure analyse()
  ```

  ![image](https://user-images.githubusercontent.com/33647663/153140000-d3419e81-8662-4365-a737-0eec44922398.png)

  ì°¨ë¡€ëŒ€ë¡œ DBëª….í…Œì´ë¸”ëª….ì»¬ëŸ¼ëª… ì´ë ‡ê²Œ êµ¬ì„±ë˜ì–´ ì¶œë ¥ë©ë‹ˆë‹¤.
  ë”°ë¼ì„œ í…Œì´ë¸” ëª…ì€ ```chall53_755fdeb36d873dfdeb2b34487d50a805```ì…ë‹ˆë‹¤.


  ![image](https://user-images.githubusercontent.com/33647663/153140095-efe3464d-f443-468d-b6fb-8a10137897c7.png)

  