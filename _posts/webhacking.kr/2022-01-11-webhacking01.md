---
title: "[webhacking.kr] 1ë²ˆ ë¬¸ì œ í’€ì´[php]"
categories:
  - webhacking
tags:
  - webhacking.kr
  - wargame
  - php
toc: true
toc_sticky: true
toc_label: "1ë²ˆ ë¬¸ì œ í’€ì´"
toc_icon: "bookmark"
author_profile: true
---

ğŸ’¡ Webhacking.kr challenge(old) 1ë²ˆ ë¬¸ì œì— ëŒ€í•œ í’€ì´ì…ë‹ˆë‹¤.
{: .notice--warning}

# ë¬¸ì œ
 ## ë¬¸ì œ í™”ë©´
 ![image](https://user-images.githubusercontent.com/33647663/149108827-53ab66fa-503a-4d19-a9b4-30431606b879.png)


 ## ì†ŒìŠ¤ì½”ë“œ
 ```php
    <?php
    include "../../config.php";
    if($_GET['view-source'] == 1){ view_source(); }
    if(!$_COOKIE['user_lv']){
        SetCookie("user_lv","1",time()+86400*30,"/challenge/web-01/");
        echo("<meta http-equiv=refresh content=0>");
    }
    ?>
    <html>
    <head>
    <title>Challenge 1</title>
    </head>
    <body bgcolor=black>
    <center>
    <br><br><br><br><br>
    <font color=white>
    ---------------------<br>
    <?php
    if(!is_numeric($_COOKIE['user_lv'])) $_COOKIE['user_lv']=1;
    if($_COOKIE['user_lv']>=4) $_COOKIE['user_lv']=1;
    if($_COOKIE['user_lv']>3) solve(1);
    echo "<br>level : {$_COOKIE['user_lv']}";
    ?>
    <br>
    <a href=./?view-source=1>view-source</a>
    </body>
    </html>
 ```


# [01] í’€ì´
 PHP ì½”ë“œë¥¼ ì½ì–´ë³´ë‹ˆ ì‚¬ìš©ìê°€ í•´ë°© í˜ì´ì§€ë¥¼ ë°©ë¬¸í•˜ë©´
 ```php
 if(!$_COOKIE['user_lv']){
       SetCookie("user_lv","1",time()+86400*30,"/challenge/web-01/");
 ```

 
 ìœ„ í•¨ìˆ˜ì— ì˜í•´ì„œ ì¿ í‚¤ê°€ ì—†ë‹¤ë©´ -> user_lv ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì¿ í‚¤ë¥¼ ìƒì„±í•œë‹¤.
 
 
 ì°¸ê³ ) setCookie("ì´ë¦„","ê°’",ìœ íš¨ê¸°ê°„,ê²½ë¡œ); 

 ![image](https://user-images.githubusercontent.com/33647663/149110971-3c6709ca-9ba0-4a32-a861-155f9239b980.png)

 ë‘ë²ˆì§¸ ë¶€ë¶„ì„ ë³´ì

 ```php
 <?php
    if(!is_numeric($_COOKIE['user_lv'])) $_COOKIE['user_lv']=1;
    if($_COOKIE['user_lv']>=4) $_COOKIE['user_lv']=1;
    if($_COOKIE['user_lv']>3) solve(1);
    echo "<br>level : {$_COOKIE['user_lv']}";
 ?>
 ```

 1. user_lv ì¿ í‚¤ ê°’ì— ìˆ«ì ê°’ì´ ì•„ë‹Œ ê°’ì´ ë“¤ì–´ê°€ ìˆìœ¼ë©´, ê°’ì„ 1ë¡œ ë°”ê¾¼ë‹¤.

 2. user_lv ì¿ í‚¤ ê°’ì´ 4ì´ìƒì´ë©´ 1ë¡œ ë°”ê¾¼ë‹¤.

 3. user_lv ì¿ í‚¤ ê°’ì´ 3ì´ˆê³¼ ì´ë©´ í†µê³¼í•œë‹¤.
   
 ê²°ë¡  -> user_lv ì¿ í‚¤ê°’ì— 3~4 ì‚¬ì´ì— ì•„ë¬´ ìˆ«ìë‚˜ ë„£ì–´ì¤€ë‹¤.

 ![image](https://user-images.githubusercontent.com/33647663/149113599-2a48df9d-9518-4584-9795-f8cd5a20b2db.png)
 
 
 ë°”ê¿”ì£¼ê³  ìƒˆë¡œê³ ì¹¨ í•˜ë©´ ë

 ![image](https://user-images.githubusercontent.com/33647663/149113960-cee55631-85aa-491f-87f6-d915571c70e4.png)
 